<!-- This file is AUTO-GENERATED!! It should not be edited by hand. Go to https://github.com/vytdev/vytdev.github.io/ to modify the source code -->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <link rel="manifest" href="../../../../manifest.json" />
  <link rel="search" type="application/opensearchdescription+xml" href="../../../../opensearch.xml" />
  <link rel="license" type="text/plain" href="../../../license.html" />
  <meta name="copyright" content="VYT Developers" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0" />
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />
  <meta name="theme-color" content="#222222" media="(prefers-color-scheme: dark)" />
  
  <title>app — API Reference</title>
  <meta name="language" content="ES" />
  <meta name="robots" content="index,follow" />
  <meta name="generator" content="Python 3.x" />
  <meta name="revised" content="Wednesday, July 12 2023" />
  <meta name="author" content="" />
  <meta property="og:title" content="" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="Reference to plugin API" />
  <meta property="og:description" content="Reference to plugin API" />
  <link rel="canonical" href="https://vytdev.github.io/en/projects/creators-api/api/app" />
  <meta property="og:url" content="https://vytdev.github.io/en/projects/creators-api/api/app" />
  <meta property="og:site_name" content="VYT Docs" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="" />
  <link rel="EditURI" href="https://github.com/vytdev/vytdev.github.io/edit/master/src/en/projects/creators-api/api/app.md" />
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","description":"Reference to plugin API","headline":"app \u2014 API Reference","name":"app \u2014 API Reference","url":"https://vytdev.github.io/en/projects/creators-api/api/app"}</script>
  <link rel="previous" href="" />
  <link rel="next" href="" />
  
  <script src="../../../../assets/js/jquery.js" type="text/javascript"></script>
  <script src="../../../../assets/js/util.js" type="text/javascript"></script>
  <script type="text/javascript">doc.dispatchEvent("dataloaded", [doc.page = {"title":"app \u2014 API Reference","about":"Reference to plugin API","previous":"","next":"","contributors":[{"name":"VYT","url":"https://github.com/vytdev"}],"keywords":[],"home":false,"location":"en/projects/creators-api/api/app","contents":[{"level":4,"id":"functions","name":"Functions"},{"level":4,"id":"classes","name":"Classes"},{"level":4,"id":"types","name":"Types"},{"level":2,"id":"writing-a-plugin","name":"Writing a plugin"},{"level":4,"id":"creating-a-plugin","name":"Creating a plugin"},{"level":4,"id":"plugin-package","name":"Plugin package"},{"level":4,"id":"plugin-package-with-custom-loader","name":"Plugin package with custom loader"},{"level":4,"id":"registring-a-plugin","name":"Registring a plugin"},{"level":4,"id":"resetting-app-objects","name":"Resetting app objects"}],"created":"Wednesday, July 12 2023","updated":"Wednesday, July 12 2023","canonical":"https://vytdev.github.io/en/projects/creators-api/api/app"}]);</script>
  <link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.ico" />
  <link rel="stylesheet" type="text/css" href="../../../../assets/css/main.css" />
  <link rel="stylesheet" type="text/css" href="../../../../assets/css/dark.css" id="csstheme" media="(prefers-color-scheme: dark)" />



</head><body>
  <div class="main">
    <div>
      <div class="body">
        <div class="nav no-print" role="navigation">
          
          <input class="hide" type="checkbox" id="sidebar-toggle" />
          <label for="sidebar-toggle"><span></span></label>
          
          <a href="https://vytdev.github.io/"><img width="24px" height="24px" src="../../../../assets/logo.svg" /></a>
          <form class="search" method="GET" action="../../../../search.html">
            <input placeholder="Search..." type="search" name="q" />
            <input type="submit" value="" id="nav-search-submit-btn" />
            <label for="search-submit-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
              </svg>
            </label>
          </form>
          <a class="hide-xs show-md" href="../../../wiki/index.html">Wiki</a>
          <a class="hide-xs show-md" href="../../index.html">Projects</a>
          <a class="hide-xs show-md" href="../../../help/index.html">Help</a>
        </div>
        <div class="container-fluid grid">
          
          <div class="sidebar col-lg-3 no-print">
            <div>
              
              <h3>In this page</h3>
<div class="toc">
<ul>
<li><a href="#functions">Functions</a></li>
<li><a href="#classes">Classes</a></li>
<li><a href="#types">Types</a></li>
<li><a href="#writing-a-plugin">Writing a plugin</a><ul>
<li><a href="#creating-a-plugin">Creating a plugin</a></li>
<li><a href="#plugin-package">Plugin package</a></li>
<li><a href="#plugin-package-with-custom-loader">Plugin package with custom loader</a></li>
<li><a href="#registring-a-plugin">Registring a plugin</a></li>
<li><a href="#resetting-app-objects">Resetting app objects</a></li>
</ul>
</li>
</ul>
</div>

              
              <div class="pagecard">
                <h2>app — API Reference</h2>
                <p>Reference to plugin API</p>
                <p><em>Written by our contributors:</em></p>
                <ul class="list-box">
                  <li><p><a href="https://github.com/vytdev">VYT</a></p></li>
                </ul>
                <p>Learn how to <a href="../../../contributing.html">contribute</a>.</p>
                <h4>Navigation</h4>
                <ul>
                  <li><a href="https://github.com/vytdev/vytdev.github.io/blob/master/src/en/projects/creators-api/api/app.md">View source code</a></li>
                  <li><a href="https://github.com/vytdev/vytdev.github.io/edit/master/src/en/projects/creators-api/api/app.md">Edit page on GitHub</a></li>
                  <li><a href="https://github.com/vytdev/vytdev.github.io/issues/new?template=page.yml&docurl=en%2Fprojects%2Fcreators-api%2Fapi%2Fapp">Report page content</a></li>
                  <li><a href="javascript:print()">Print this page</a></li>
                </ul>
                <p><em>Last updated: Wednesday, July 12 2023</em></p>
              </div>
              
              
            </div>
          </div>
          
          <div class="article col-xs-1">
            
            <h1>app — API Reference</h1>
<p>Plugins are the fundamental part of this project. It makes it easy to handle
module and package loading, with CommonJS like loading support. But what for?
This is for my planned extensions to the project, such as an anti-hack, and
many more.</p>
<h4 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link to this reference.">&para;</a></h4>
<dl>
<dt><code>function app.load(target: string): any</code></dt>
<dd>
<p>Loads a module or plugin using dot annotation. Like shown below:</p>
<div class="snippet"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">creator</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./framework/index.js&quot;</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">Thread</span><span class="p">;</span>

<span class="c1">// get thread class</span>
<span class="nx">Thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;threading.Thread&quot;</span><span class="p">);</span>

<span class="c1">// same with this </span>
<span class="nx">Thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">threading</span><span class="p">.</span><span class="nx">Thread</span><span class="p">;</span>
</code></pre></div>

<ul>
<li><code>target</code> - The expression where to find the object</li>
</ul>
<p>Returns any object, or all the exports of a module.</p>
</dd>
</dl>
<h4 id="classes">Classes<a class="headerlink" href="#classes" title="Permanent link to this reference.">&para;</a></h4>
<dl>
<dt><code>class app.Loader</code></dt>
<dd>
<p>A class that wraps all modules and packages within a plugin/library</p>
<dl>
<dt><code>constructor(pack?: app.LibObject | app.ModuleFunct | app.Module)</code></dt>
<dd>
<p>Initialize a new instance of this class.</p>
<ul>
<li><code>pack</code> - The module or dict of modules used within the plugin</li>
</ul>
</dd>
<dt><code>readonly modules: app.CompiledLib</code></dt>
<dd>
<p>The compiled modules for the loader</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>app: app.Plugin</code></dt>
<dd>The Plugin instance where this loader was created for</dd>
<dt><code>entry: string</code></dt>
<dd>The entry point of the plugin loader, &quot;index&quot; by default</dd>
<dt><code>create(path: string, mod: app.Module | app.ModuleFunct): string;</code></dt>
<dd>
<p>Creates a new module, overrides old module if already exists in path</p>
<ul>
<li><code>path</code> - The path of the module</li>
<li><code>mod</code> - The module instance</li>
</ul>
<p>Returns the normalized path of the module.</p>
</dd>
<dt><code>start(): app.Exports</code></dt>
<dd>Starts this plugin/app/library, at the given entry point.</dd>
<dt><code>reset(): void</code></dt>
<dd>
<p>Resets all modules</p>
<p><em>This can throw errors</em></p>
</dd>
</dl>
</dd>
<dt><code>class app.Module</code></dt>
<dd>
<p>A class used to handle a module (or simply a function)</p>
<dl>
<dt><code>constructor(loader: app.Loader, path: string, mod: app.ModuleFunct)</code></dt>
<dd>
<p>Initialize a new instance of this class</p>
<ul>
<li><code>loader</code> - The library loader where this module belongs</li>
<li><code>path</code> - The path of the module</li>
<li><code>mod</code> - The module function</li>
</ul>
</dd>
<dt><code>readonly path: string</code></dt>
<dd>
<p>The path of this module</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>readonly filename: string</code></dt>
<dd>
<p>The filename of this module</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>readonly action: app.ModuleFunct</code></dt>
<dd>
<p>The action function, where module runs</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>exports: app.Exports</code></dt>
<dd>Exported values of the module. Empty object by default.</dd>
<dt><code>loaded: boolean</code></dt>
<dd>Whether the module is fully loaded.</dd>
<dt><code>ran: boolean</code></dt>
<dd>Whether the module was ran</dd>
<dt><code>children: app.Module[]</code></dt>
<dd>All modules requestes by a module using require</dd>
<dt><code>loader: app.Loader</code></dt>
<dd>The loader of the plugin where this module is associated to</dd>
<dt><code>start(): app.Exports</code></dt>
<dd>Starts a module. Returns <code>this.exports</code> when fully loaded</dd>
<dt><code>reset(): boolean</code></dt>
<dd>
<p>Resets this module, returns <code>true</code> if succed</p>
<p><em>This can throw errors</em></p>
</dd>
</dl>
</dd>
<dt><code>class app.Plugin</code></dt>
<dd>
<p>A class that creates and handles a plugin instance</p>
<dl>
<dt><code>constructor(name: string, loader: app.Loader | app.Module | app.LibObject | app.ModuleFunct)</code></dt>
<dd>
<p>Initializes a new instance of this class</p>
<ul>
<li><code>name</code> - The name of the plugin</li>
<li><code>loader</code> - The context of the plugin</li>
</ul>
</dd>
<dt><code>readonly name: string</code></dt>
<dd>
<p>The name of this plugin, passed on constructor</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>readonly loader: app.Loader</code></dt>
<dd>
<p>A loader instance that handles module loading</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>readonly context: app.Context</code></dt>
<dd>
<p>Plugin context, passed to all the modules of plugin as the first argument</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>register(): this</code></dt>
<dd>
<p>Registers this plugin to the global registry. Overrides if exists.</p>
<p>Returns the plugin itself.</p>
</dd>
<dt><code>entry(path: string): this</code></dt>
<dd>
<p>Sets the entry point of the plugin</p>
<ul>
<li><code>path</code> - The entry point</li>
</ul>
<p>Returns the plugin itself.</p>
</dd>
<dt><code>start(...intent: any): app.Exports</code></dt>
<dd>
<p>Runs the plugin with some custom intents.</p>
<ul>
<li><code>intent</code> - The intent to pass on the plugin context</li>
</ul>
<p>Returns the exported value of the plugin entry point.</p>
</dd>
<dt><code>reset(): void</code></dt>
<dd>
<p>Resets the whole plugin</p>
<p><em>This can throw errors</em></p>
</dd>
</dl>
</dd>
<dt><code>class app.Context</code></dt>
<dd>
<p>Plugin context/API used for handling itself, passed to each module within the
plugin.</p>
<dl>
<dt><code>constructor(plugin: app.Plugin)</code></dt>
<dd>
<p>Initializes a new instance of this class</p>
<ul>
<li><code>plugin</code> - The plugin instance</li>
</ul>
</dd>
<dt><code>readonly handle: app.Plugin</code></dt>
<dd>
<p>The plugin where this context belongs</p>
<p><em>This property is read-only</em></p>
</dd>
<dt><code>cache: { [pathspec: string]: Exports }</code></dt>
<dd>Stores all exports of loaded modules</dd>
<dt><code>intent: any[]</code></dt>
<dd>Stores intents</dd>
<dt><code>reset(): void</code></dt>
<dd>Resets the context</dd>
</dl>
</dd>
</dl>
<h4 id="types">Types<a class="headerlink" href="#types" title="Permanent link to this reference.">&para;</a></h4>
<dl>
<dt><code>type app.Require = (path: string) =&gt; app.Exports</code></dt>
<dd>A require function</dd>
<dt><code>type app.Exports = any</code></dt>
<dd>Module.prototype.exports representation</dd>
<dt><code>type app.LibObject = { [pathspec: string]: app.ModuleFunct | app.Module }</code></dt>
<dd>An uncompiled lib object</dd>
<dt><code>type app.CompiledLib = { [pathspec: string]: app.Module }</code></dt>
<dd>A compiled lib object</dd>
<dt><code>type ModuleFunct = (this: app.Module, api: app.Context, require: app.Require, module: app.Module, exports: app.Exports) =&gt; void</code></dt>
<dd>A module action</dd>
</dl>
<h2 id="writing-a-plugin">Writing a plugin<a class="headerlink" href="#writing-a-plugin" title="Permanent link to this reference.">&para;</a></h2>
<p>Now you are ready to write plugins! Here is the examples of basic usage of the Plugin API.</p>
<h4 id="creating-a-plugin">Creating a plugin<a class="headerlink" href="#creating-a-plugin" title="Permanent link to this reference.">&para;</a></h4>
<div class="snippet"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">creator</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./framework/index.js&quot;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">plugin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">(</span><span class="s2">&quot;myplugin&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Hello world!&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">});</span>
</code></pre></div>

<h4 id="plugin-package">Plugin package<a class="headerlink" href="#plugin-package" title="Permanent link to this reference.">&para;</a></h4>
<div class="snippet"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">creator</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./framework/index.js&quot;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">plugin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">(</span><span class="s2">&quot;myplugin&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;a/b/c&quot;</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kr">module</span><span class="nx">.exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hello world!&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;a/index&quot;</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// export message from &quot;a/b/c&quot;</span>
<span class="w">      </span><span class="nx">exports</span><span class="p">.</span><span class="nx">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./b/c&quot;</span><span class="p">);</span>
<span class="w">      </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;../normal/path&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// loads the last module below</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;custom/entry/path&quot;</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// destruction</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">msg</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;../../a&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// resolves &quot;a&quot; as a package: a/index</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// support module path normalization</span>
<span class="w">    </span><span class="s2">&quot;/lazy/../not///../normalized/.///..//normal/./path/.///.&quot;</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="kr">module</span><span class="nx">.path</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;normal/path&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">})</span>
<span class="w">    </span><span class="c1">// set entry point</span>
<span class="w">    </span><span class="p">.</span><span class="nx">entry</span><span class="p">(</span><span class="s2">&quot;custom/entry/path&quot;</span><span class="p">);</span>

<span class="nx">plugin</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
<span class="c1">// This will be the result in logs</span>
<span class="c1">// &quot;normal/path&quot;</span>
<span class="c1">// &quot;Hello world!&quot;</span>
</code></pre></div>

<h4 id="plugin-package-with-custom-loader">Plugin package with custom loader<a class="headerlink" href="#plugin-package-with-custom-loader" title="Permanent link to this reference.">&para;</a></h4>
<div class="snippet"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">creator</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./framework/index.js&quot;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">Loader</span><span class="p">();</span>

<span class="c1">// create custom module(s)</span>
<span class="nx">loader</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s2">&quot;path/to/module&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Module ran!&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;/index&quot;</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">loader</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">Module</span><span class="p">(</span><span class="nx">loader</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;index&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;loaded!&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">)</span>

<span class="nx">loader</span><span class="p">.</span><span class="nx">entry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/path/to/module&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// set entry point</span>

<span class="c1">// create plugin</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">plugin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">(</span><span class="s2">&quot;myplugin&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">loader</span><span class="p">);</span>

<span class="nx">plugin</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span><span class="w"> </span><span class="c1">// logs &quot;Module ran!&quot; and &quot;loaded!&quot;</span>
</code></pre></div>

<h4 id="registring-a-plugin">Registring a plugin<a class="headerlink" href="#registring-a-plugin" title="Permanent link to this reference.">&para;</a></h4>
<div class="snippet"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">creator</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./framework/creator&quot;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">plugin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">(</span><span class="s2">&quot;myplugin&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">exports</span><span class="p">.</span><span class="nx">customExport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hi there&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>

<span class="c1">// This will work:</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span><span class="w"> </span><span class="c1">// { customExport: &quot;Hi there&quot; }</span>

<span class="c1">// But not with &quot;load&quot; function:</span>
<span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;myplugin&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// throws an error: &quot;Plugin &#39;myplugin&#39; not exists or isn&#39;t registered!&quot;</span>

<span class="c1">// We need to register it first to global registry:</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">register</span><span class="p">();</span>

<span class="c1">// This will now work:</span>
<span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;myplugin&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// { customExport: &quot;Hi there&quot; }</span>

<span class="c1">// Note:  Once your plugin was registered, it can be accessed by other plugins</span>
</code></pre></div>

<h4 id="resetting-app-objects">Resetting app objects<a class="headerlink" href="#resetting-app-objects" title="Permanent link to this reference.">&para;</a></h4>
<div class="snippet"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">creator</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./framework/index.js&quot;</span><span class="p">;</span>

<span class="c1">// a plugin instance</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">plugin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">creator</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">(</span><span class="s2">&quot;myplugin&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">,</span><span class="w"> </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">exports</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// indicates the plugin was re-runned when logged</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;plugin ran!&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="cm">/* the following will throw an error when called while the plugin are running</span>
<span class="cm">  module.reset();</span>
<span class="cm">  module.loader.reset();</span>
<span class="cm">  module.loader.plugin.reset();</span>
<span class="cm">  */</span>
<span class="p">});</span>

<span class="c1">// run the plugin</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span><span class="w"> </span><span class="c1">// logs &quot;plugin ran!&quot;</span>

<span class="c1">// running again</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="c1">// will not take effect because the plugin has already been cached, need to reset</span>
<span class="c1">// it first</span>

<span class="c1">// resets whole plugin</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>

<span class="c1">// resets only the plugin context</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>

<span class="c1">// reset all modules and `plugin.context.cache`</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">loader</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>

<span class="c1">// reset one module</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">loader</span><span class="p">.</span><span class="kr">module</span><span class="nx">s</span><span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">].</span><span class="nx">reset</span><span class="p">();</span>

<span class="c1">// after reseting, you can call the plugin again</span>
<span class="nx">plugin</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span><span class="w"> </span><span class="c1">// logs &quot;plugin ran!&quot;</span>
</code></pre></div>
            
          </div>
        </div>
        <div class="owner-print print-only">
          <h3 class="text-center">VYT Docs</h3>
          <p class="text-center"><em>Simple documentations that everyone can contribute.</em></p>
          <h4>app — API Reference</h4>
          <p>Reference to plugin API</p>
          <p><em>Last updated: Wednesday, July 12 2023</em></p>
          <p><em>Written by our contributors:</em></p>
          <ul class="list-box">
            <li><p><a href="https://github.com/vytdev">VYT</a></p></li>
          </ul>
          <p class="text-right">Copyright &copy; 2022-2023 VYT and contributors. All rights reserved.</p>
          <p class="text-right">This documentation is licensed under the MIT License.</p>
        </div>
        <div class="backtotop no-print">
          <!--octicons arrow-up-24.svg--><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.655 10.405a.75.75 0 0 1-1.06 0l-4.97-4.97v14.44a.75.75 0 0 1-1.5 0V5.435l-4.97 4.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l6.25-6.25a.75.75 0 0 1 1.06 0l6.25 6.25a.75.75 0 0 1 0 1.06Z"/></svg>
        </div>
      </div>
      <div class="footer container-fluid no-print">
        <div class="grid">
          <div class="col-xs-1 col-lg-3">
            <img width="128px" height="128px" src="../../../../assets/logo.svg" />
            <h1>VYT Docs</h1>
            <p><em>Simple documentations that everyone can contribute.</em></p>
          </div>
          <div class="col">
            <form class="search" method="GET" action="../../../../search.html">
              <input placeholder="Quick search..." type="search" name="q" />
              <input type="submit" value="" id="footer-search-submit-btn" />
              <label for="search-submit-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                  <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
              </label>
            </form>
            <div class="grid grid-xs-1 grid-md-2 grid-lg-3">
              <div class="text-center">
                <h4>Links</h4>
                <ul class="list-none no-offset">
                  <li><a href="https://github.com/vytdev/vytdev.github.io/">GitHub</a></li>
                </ul>
              </div>
              <div class="text-center">
                <h4>Reference</h4>
                <ul class="list-none no-offset">
                  <li><a href="https://en.wikipedia.org/">Wikipedia</a></li>
                </ul>
              </div>
              <div class="text-center">
                <h4>Legal</h4>
                <ul class="list-none no-offset">
                  <li><a href="../../../license.html">License</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <p>Copyright &copy; 2022-2023, VYT and contributors. All rights reserved.</p>
        <p>This documentation is licensed under the <a href="../../../license.html">MIT License</a>.</p>
      </div>
    </div>
  </div>
</body></html>
